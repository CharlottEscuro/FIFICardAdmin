<div class="container" fxLayout="row" fxLayoutAlign="center none">
  <div fxFlex="95%">

    <mat-card>
      <mat-card-content>
        <h2>Users</h2>
        <mat-card-actions align="end">
          <a mat-raised-button color="primary" [routerLink]="['register']">
            <mat-icon>add</mat-icon>
            Add User
          </a>
        </mat-card-actions>

        <div class="container" fxLayout="row" fxLayoutAlign="center none animate" *ngIf="initalizing">
          <mat-spinner></mat-spinner>
        </div>

        <div class="container" fxLayout="row" fxLayoutAlign="center none" *ngIf="!withRecords">
          <div fxFlex="50%" class="text-center no-records animate">
            <mat-icon>people_outline</mat-icon>
            <p>No users exist.</p>
          </div>
          <mat-icon> </mat-icon>
        </div>

        <table mat-table [dataSource]="users" matSort *ngIf="withRecords && !initalizing" class="animate">
  
          <ng-container matColumnDef="name">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
              <td mat-cell *matCellDef="let element"> {{element.firstname + ' ' + element.lastname}} </td>
          </ng-container>

          <ng-container matColumnDef="email">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Email </th>
              <td mat-cell *matCellDef="let element"> {{element.email}} </td>
          </ng-container>

          <ng-container matColumnDef="active">
              <th mat-header-cell *matHeaderCellDef> Active </th>
              <td mat-cell *matCellDef="let element"> {{ element.active ? "Active" : "Inactive" }} </td>
          </ng-container>

          <ng-container matColumnDef="action">
              <th mat-header-cell *matHeaderCellDef> Action </th>
              <td mat-cell *matCellDef="let element">
                <a mat-stroked-button color="primary" [routerLink]="['/users', element.id]">
                  <mat-icon>edit</mat-icon>
                  Edit
                </a>
              </td>
            </ng-container>
        
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>

      </mat-card-content>
    </mat-card>

  </div>
</div>